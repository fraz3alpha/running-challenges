services:
  selenium:
    image: selenium/standalone-chrome:101.0
    ports: 
      - 4444:4444
    volumes:
      - /dev/shm:/dev/shm
    links:
      - nginx:www.parkrun.ca
      - nginx:www.parkrun.co.at
      - nginx:www.parkrun.co.nl
      - nginx:www.parkrun.co.nz
      - nginx:www.parkrun.co.za
      - nginx:www.parkrun.com.au
      - nginx:www.parkrun.com.de
      - nginx:www.parkrun.dk
      - nginx:www.parkrun.fi
      - nginx:www.parkrun.fr
      - nginx:www.parkrun.ie
      - nginx:www.parkrun.it
      - nginx:www.parkrun.jp
      - nginx:www.parkrun.my
      - nginx:www.parkrun.no
      - nginx:www.parkrun.org.uk
      - nginx:www.parkrun.pl
      - nginx:www.parkrun.ru
      - nginx:www.parkrun.se
      - nginx:www.parkrun.sg
      - nginx:www.parkrun.us
      - nginx:wiki.parkrun.com
      - nginx:images.parkrun.com
  nginx:
    image: nginx:1.20
    ports:
      - 80:80
      - 443:443
    volumes:
      - ./mock-parkrun-sites/sites/:/usr/share/nginx/html/
      - ./mock-parkrun-sites/nginx/conf.d/:/etc/nginx/conf.d/
      - ./mock-parkrun-sites/nginx/cert/:/etc/nginx/cert/
  ubuntu:
    image: ubuntu:latest
    links:
      - nginx:www.parkrun.ca
      - nginx:www.parkrun.co.at
      - nginx:www.parkrun.co.nl
      - nginx:www.parkrun.co.nz
      - nginx:www.parkrun.co.za
      - nginx:www.parkrun.com.au
      - nginx:www.parkrun.com.de
      - nginx:www.parkrun.dk
      - nginx:www.parkrun.fi
      - nginx:www.parkrun.fr
      - nginx:www.parkrun.ie
      - nginx:www.parkrun.it
      - nginx:www.parkrun.jp
      - nginx:www.parkrun.my
      - nginx:www.parkrun.no
      - nginx:www.parkrun.org.uk
      - nginx:www.parkrun.pl
      - nginx:www.parkrun.ru
      - nginx:www.parkrun.se
      - nginx:www.parkrun.sg
      - nginx:www.parkrun.us
      - nginx:wiki.parkrun.com
      - nginx:images.parkrun.com
    command: sleep infinity
  node:
    image: node:16
    command: sleep infinity